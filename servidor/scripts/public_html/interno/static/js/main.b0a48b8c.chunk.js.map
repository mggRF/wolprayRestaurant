{"version":3,"sources":["Components/Constantes.js","Components/Comun/Header.js","Components/Comun/Rutas.js","Components/Comun/Footer.js","Servicios/AccesoAPI.js","Components/Fragmentos/desplegable.js","xxPruebas/PruebaDesplegable.js","App.js","index.js"],"names":["module","exports","API_URL","API_BASE","CLUBS","EVENTS","STATES","STATES_SELECT","LPPAGINA","INS","MOD","DEL","TAG_PAGINACION","NOMBRE_FORMULARIO","CONVERSOR","c_state","c_city","c_country","c_provinces","Header","Component","Rutas","Footer","AccesoAPI","tabla","precursor","url","this","accederApi","metodo","datos","id","cabeceras","Headers","append","opciones","method","headers","body","JSON","stringify","fetch","then","res","json","results","Desplegable","state","error","monta","props","depend","setState","leerDesplegables","table","response","Respuesta","Datos","items","push","key","value","length","forEach","valor","index","opcion","nombreCampo","htmlFor","label","onChange","readValue","defaultProps","PruebaDesplegable","ccaa","provincie","city","recogeEstado","e","Number","target","recogeProvincia","recogePoblacion","console","log","App","ReactDOM","render","StrictMode","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.b0a48b8c.chunk.js","sourcesContent":["//******* Area de control *******************\nconst API_BASE = \"http://localhost:3800/\";   //direccion base\n\nconst VERSION_API = \"api_v00\";\n\nmodule.exports = {\n    API_URL: API_BASE + VERSION_API + '/',\n    CLUBS: 'clubs',\n    EVENTS: 'events',\n    STATES: 'states',\n    STATES_SELECT: 'states/select/',\n\n    LPPAGINA: \"20\",                             //lineas por pagina\n    INS: \"AÃ±adir\",\n    MOD: \"Modificar\",\n    DEL: \"Delete\",\n    TAG_PAGINACION: \"paginas\",                    // id en donde se hubican la paginacion\n    NOMBRE_FORMULARIO: \"formularioMantenimiento\",  //nombre formulario de mantenimiento\n    CONVERSOR : {\n        c_state: 'states',\n        c_city: 'citys',\n        c_country: 'countrys',\n        c_provinces: 'provinces'\n\n    }\n}","import React, { Component } from 'react'\r\n//import PropTypes from 'prop-types'\r\n\r\n\r\n\r\n\r\nexport default class  Header extends Component {\r\n  \r\n    render(){\r\n        return (\r\n            <h1>Esto es header</h1>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\n//import PropTypes from 'prop-types'\r\n\r\n\r\n\r\n\r\nexport default class  Rutas extends Component {\r\n    render(){\r\n        return (\r\n            <h1>Esto es rutas</h1>\r\n           \r\n        )\r\n    }\r\n}","import React, { Component } from 'react'\r\n//import PropTypes from 'prop-types'\r\n\r\n\r\n\r\n\r\nexport default class  Footer extends Component {\r\n    render(){\r\n        return (\r\n            <h1>Esto es Footer//</h1>\r\n        )\r\n    }\r\n}","import { API_URL, CONVERSOR } from \"../Components/Constantes\";\r\n\r\n\r\n\r\nexport default class AccesoAPI {\r\n\r\n\r\n  static async leerDesplegables(tabla, precursor) {\r\n    let url = API_URL + CONVERSOR[tabla] + \"/select/\"\r\n    if (precursor !== 'undefined') url += precursor;\r\n    return this.accederApi(url);\r\n  }\r\n\r\n  static async enviarTodo(tabla, metodo, datos, id = null) {\r\n    let url = API_URL + CONVERSOR[tabla];\r\n    if (id !== null) url += id;\r\n    \r\n    return this.accederApi(url, metodo, datos);\r\n\r\n  }\r\n  /*\r\n  *  Metodo de acceso a la API. Comun......\r\n  */\r\n  static async accederApi(url, metodo = \"GET\", datos=null) {\r\n    const cabeceras = new Headers();\r\n    cabeceras.append(\"Content-Type\", \"application/json\");\r\n    cabeceras.append(\"Authorization\", \"Bearer my-token\");\r\n    cabeceras.append(\"Cache-Control\", \"no-cache\");\r\n\r\n    let opciones  = {         // opciones para GET y DELETE (no hay body)\r\n      method: metodo,\r\n      headers: cabeceras      \r\n    };\r\n    if (datos!==null){\r\n      opciones  = {           // opciones para resto, con datos\r\n        method: metodo,\r\n        headers: cabeceras,\r\n        body: JSON.stringify(datos)      \r\n      };\r\n    }\r\n    \r\n    return await fetch(url, opciones)\r\n      .then(res => res.json())\r\n      .then(\r\n        results => {\r\n          return results;\r\n        }\r\n      )\r\n  }\r\n\r\n\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport AccesoAPI from './../../Servicios/AccesoAPI';\r\n\r\n\r\nexport default class Desplegable extends Component {\r\n    static defaultProps = {\r\n        value: ''\r\n    }\r\n    state = {\r\n        datos: [],\r\n        error: \"\",\r\n        id:0\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.monta();\r\n    }\r\n    componentDidMount(){\r\n        this.monta();\r\n    }\r\n    // shouldComponentUpdate(nextProps, nextState){\r\n    //     console.log(\"Update \",nextProps.depend,this.state.id)\r\n    //     return nextProps.depend !== this.state.id;\r\n    // }\r\n    monta(){\r\n        if (this.props.depend === this.state.id){\r\n            return\r\n        }\r\n        this.setState({id:this.props.depend});\r\n         if (this.props.depend !== 0) {\r\n            AccesoAPI.leerDesplegables(this.props.table, this.props.depend)\r\n                .then(response => {\r\n                    if (response.Respuesta === \"ok\") {\r\n                        this.setState({ datos: response.Datos })\r\n                    }\r\n                    else {\r\n                        this.setState({ error: response.Respuesta });\r\n                    }\r\n\r\n                })\r\n            // .catch(response => {\r\n            //     this.setState({\r\n            //         error: response.Respuesta,\r\n            //         datos: response.Datos\r\n            //     });\r\n            // });\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        \r\n        let items = [];\r\n        items.push(<option key=\"0\" value=\"0\">Selecciona....</option>);\r\n        if (this.state.datos.length > 0) {\r\n            this.state.datos.forEach((valor, index) => {\r\n                items.push(<option key={index + 1} value={valor.id}>{valor.opcion}</option>);\r\n            });\r\n        }\r\n        let nombreCampo=this.props.table+\"selec\";\r\n        return (\r\n            <>\r\n            <label htmlFor={nombreCampo}>{this.props.label}</label>\r\n            <select id={nombreCampo} onChange={this.props.readValue} value={this.props.value}>\r\n                {items}\r\n            </select>\r\n            </>\r\n        )\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nDesplegable.propTypes = {\r\n    readValue: PropTypes.func,\r\n    label: PropTypes.string,\r\n    table: PropTypes.string.isRequired,\r\n    value: PropTypes.number,\r\n    depend: PropTypes.number\r\n\r\n}","import React, { Component } from 'react'\r\n\r\nimport Desplegable from '../Components/Fragmentos/desplegable';\r\n\r\n\r\n\r\nexport default class PruebaDesplegable extends Component {\r\n\r\n    state={\r\n        ccaa:11,\r\n        provincie:0,\r\n        city:0\r\n    }\r\n    recogeEstado = (e) => {\r\n        this.setState({ ccaa: Number(e.target.value) })\r\n    }\r\n    recogeProvincia = (e) => {\r\n        this.setState({ provincie:Number(e.target.value) })\r\n    }\r\n    recogePoblacion = (e) => {\r\n        this.setState({ city:Number(e.target.value) })\r\n    }\r\n\r\n    render() {\r\n        console.log(\"render\",this.state)\r\n        return (\r\n            <>\r\n                <Desplegable label=\"Comunidad autonoma\" readValue={this.recogeEstado} table='c_state' value={this.state.ccaa} depend={209} />\r\n                <Desplegable label=\"Provincia\" readValue={this.recogeProvincia} table='c_provinces' value={this.state.provincie} depend={this.state.ccaa} />\r\n                <Desplegable label=\"Poblacion\" readValue={this.recogePoblacion} table='c_city' value={this.state.city} depend={this.state.provincie} />\r\n            </>\r\n        )\r\n    }\r\n}","import React from 'react';\n\nimport Header from './Components/Comun/Header';\nimport Rutas from './Components/Comun/Rutas';\nimport Footer from './Components/Comun/Footer';\nimport PruebaDesplegable from './xxPruebas/PruebaDesplegable';\n\nfunction App() {\n  return (\n    <div >\n      <Header />\n      <Rutas />\n      <Footer/>\n      <PruebaDesplegable />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode> \n    <Router>\n    <Route path=\"/\" component={App} />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}